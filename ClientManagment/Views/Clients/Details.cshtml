@model ClientManagment.Models.Client

@{
    ViewData["Title"] = "Detailles";
    var age = 0;
}

<h1>Detalles del Cliente</h1>

<div>
    <hr />
        @if (Model.ImagePath == null)
        {
            <img class="img-thumbnail" src="/img/avatar.png" style="width:200px" />
        }
        else
        {
            <img class="img-thumbnail" src="@Model.ImagePath" asp-append-version="true" alt="@Model.ImagePath" style="width:200px;height:200px;" />
        }
<dl class="row">
    <dt class="col-sm-2">
        @Html.DisplayNameFor(model => model.Name)
    </dt>
    <dd class="col-sm-10">
        @Html.DisplayFor(model => model.Name)
    </dd>
    <dt class="col-sm-2">
        @Html.DisplayNameFor(model => model.Surname)
    </dt>
    <dd class="col-sm-10">
        @Html.DisplayFor(model => model.Surname)
    </dd>
    <dt class="col-sm-2">
        @Html.DisplayNameFor(model => model.DocumentNumber)
    </dt>
    <dd class="col-sm-10">
        @Html.DisplayFor(model => model.DocumentNumber)
    </dd>
    <dt class="col-sm-2">
        @Html.DisplayNameFor(model => model.Patent)
    </dt>
    <dd class="col-sm-10">
        @Html.DisplayFor(model => model.Patent)
    </dd>
    <dt class="col-sm-2">
        Edad
    </dt>
    <dd class="col-sm-10">

        @{
            if(Model.DateOfBirth.ToString() != "01/01/0001 0:00:00")
            {
                age = DateTime.Now.Year - Model.DateOfBirth.Year;
                if (DateTime.Now.DayOfYear < Model.DateOfBirth.DayOfYear)
                    age = age - 1;
            }
        }

        @if(age == 0)
        {
            <span>NO se ha registrado fecha de nacimiento</span>
        }
        else
            @age

    </dd>
    <dt class="col-sm-2">
        @Html.DisplayNameFor(model => model.Description)
    </dt>
    <dd class="col-sm-10">
        @Html.DisplayFor(model => model.Description)
    </dd>

    @*<dt class="col-sm-3">
            @Html.DisplayNameFor(model => model.isNotWished)
            <input asp-for="isNotWished" class="form-control col-2" />
        </dt>*@

    @*<dd class="col-sm-10">
            @if (string.IsNullOrEmpty(Model.State) || Model.State == "0")
            {
                <label>Si (deseado)</label>
            }
            else
            {
                <label>No (No deseado)</label>
            }
        </dd>*@

    @*<dt class="col-sm-2">
            @Html.DisplayNameFor(model => model.ImagePath)
        </dt>*@
    @*<dd class="col-sm-10">
            @Html.DisplayFor(model => model.ImagePath)
        </dd>*@
</dl>
</div>
<div>
    <a asp-action="Edit" asp-route-id="@Model.ClientId" class="btn btn-danger">Editar</a>
    <a asp-action="Index" class="btn btn-primary">Volver</a>
</div>
